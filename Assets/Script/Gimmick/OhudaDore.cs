using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class OhudaDore : MonoBehaviour
{
    // ?h?A???A?j???[?^?[
    [SerializeField]
    [Tooltip("?????h?A???A?j???[?^?[")]
    private Animator[] opendoreAnims;

    AudioSource audioSource;

    void Start()
    {
        audioSource = GetComponent<AudioSource>();
    }
    /// <summary>
    /// ?????h?A???m?G???A??????????
    /// </summary>


    private void OnMouseDown()
    {
        //audioSource.Play();
        // ?A?j???[?V?????p?????[?^??true???????B(?h?A???J??)
        bool hasItem = ItemBox.instance.CanUseItem(Item.Type.Ohuda);//?A?C?e???{?b?N?X?????????????????? => Item??ItemBox???????K?v??????
        if (hasItem == true)//player???t??????????????????
        {
            //if (textScript != null)
            //{
            //    textScript.changetext("????????????");



            //}
            //??????????
            foreach (Animator opendoreAnim in opendoreAnims)
            {

                opendoreAnim.SetTrigger("open");
                //Destroy(gameObject, 3f);
            }

            


            // ?w???b???x??????????????
            //nvoke("PlayDoorSound", delayInSeconds);


            //?A?C?e?????g??
            ItemBox.instance.UseItem(Item.Type.Ohuda);
            Debug.Log("????");
        }
        else
        {

            //if (textScript != null)
            //{
            //    //??????????????????

            //    //audioSource.Play();

            //    textScript.changetext("??????????????????????");
            //}
        }
        
    }
}
